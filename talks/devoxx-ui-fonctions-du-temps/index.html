<!doctype html><html lang="en"><head><title>Les Interfaces Utilisateur comme Fonctions Pures du Temps</title><meta name="robots" content="noindex"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@import url(https://fonts.googleapis.com/css?family=Open+Sans:400);
      @import url(https://fonts.googleapis.com/css?family=Montserrat:400);

      body {
        font-family: Open Sans, Arial, sans serif;
        color: #fff;
      }

      .remark-slide-content:not(.naked)::after {
          content: "@atomrc | #DevoxxFR";
          position: absolute;
          bottom: 0;
          left: 0;
          padding: 1em;
          font-size: 1em;
      }

      img {
        max-width: 90%;
        max-height: 90%;
      }
      .remark-slide-content {
        /*background: white;*/
        background-color: #057FFA;
        padding: 0 3em;
      }
      .remark-container {
        background-color: #EEE;
      }
      .remark-code {
        padding: 0 10em;
      }
      .remark-slide-scaler {
        box-shadow: none;
      }

      .center {
        text-align: center;
      }
      .left-align h2 {
        text-align: left;
      }

      h1, h2, h3 {
        margin: 1em;
        margin-bottom: 1em;
        text-align: center;
        font-weight: lighter;
        font-family: Montserrat;
      }

      .semi-condensed h1 {
          margin: 0.5em;
      }
      .condensed h1 {
          margin: 0.3em;
      }

      a { color: inherit; }

      svg {
        max-width: 90%;
        max-height: 520px;
      }

      li {
        padding: 0.5em;
      }

      .naked .foot, .naked .remark-slide-number {
        display: none;
      }

      .foot {
        position: absolute;
        bottom: 1em;
        left: 1em;
      }

      .remark-inline-code {
        background-color: #03002E;
        color: white;
        padding: 2px;
        border-radius: 0.2em;
      }
      .centered-code pre{
        flex: 1;
        margin: auto;
      }
      .centered-code code.hljs {
        padding: 3em;
      }

      .box {
        margin: auto;
        color: white;
        background-color: #3e3e3e;
        border-radius: 5px;
        padding: 0.5em;
      }

      .animate-from-bottom {
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        flex-direction: column;
        height: 100%;
        width: 100%;
        transform: translateY(100%);
        transition: transform 1s;
      }
      .middled {
        margin: auto;
      }
      .banner {
        font-size: 2.5em;
        border-radius: 5px;
        background-color: #EEE;
        color: #555;
        font-weight: bold;
        padding: 1em;
        box-shadow: 5px 5px 10px #666;
      }
      .entered .animate-from-bottom {
        transform: translateY(0);
      }

      img[alt="thomas belin"] {
        border-radius: 100px;
        border: solid 5px white;
      }
      blockquote {
        text-align: center;
        background: white;
        color: #444;
        border-radius: 5px;
        padding: 0.5em 1em;
        font-size: 2em;
        position: relative;
        border: 1px solid #CCC;
      }
      blockquote::before, blockquote::after {
        position: absolute;
        content: "‚ú∂";
      }
      blockquote::before {
        top: 0.25em;
        left: 0.25em;
      }
      blockquote::after {
        bottom: 0.25em;
        right: 0.25em;
      }

      .hljs-github .hljs-comment {
          color: #0040f8;
      }
      .remark-code-line-highlighted {
          background-color: #F2D279;
      }

      .huge-code .remark-code {
        font-size: 2em;
      }
      .check {
        font-size: 3em;
        color: lime;
      }

      #slide-intro svg {
        height: 200px;
      }

      #slide-cycle-intro svg {
        height: 200px;
      }

      #slide-intro svg .stream {
        stroke-width: 5 !important;
        stroke-linecap: round !important;
        stroke-dasharray: 0px, 15 !important;
      }

      svg .hidden {
        opacity: 0;
      }
      svg .appland {
        fill: none;
        stroke: #edaf1f;
        stroke-width: 5;
      }
      svg .stream {
        stroke-width: 10 !important;
        stroke-linecap: round !important;
        stroke-dasharray: 0px, 20 !important;
      }

      svg .stream.lf {
        stroke-dasharray: 0px, 40 !important;
      }

      svg .stream.vlf {
        stroke-dasharray: 0px, 80 !important;
      }

      .toggled svg .stream {
        display: none;
      }

      #slide-test1 svg .stream {
        stroke-dasharray: 0px, 200 !important;
      }
      #slide-test2 svg .raf-stream {
        stroke-dasharray: 0px, 120px !important;
      }
      #slide-test2 svg .dom-stream {
        stroke-dasharray: 0px, 120px !important;
      }
      #slide-test2 svg .out-stream {
        stroke-dasharray: 0px, 120px !important;
      }

      #slide-pausev3 svg .raf-stream,
      #slide-pausev3 svg .out-stream {
        stroke-dasharray: 0px, 15px !important;
      }
      #slide-pausev3 svg .dom-stream {
        stroke-dasharray: 0px, 50px !important;
      }

      #slide-me {
          font-size: 2em;
      }</style></head><body class="dark"><textarea id="source">
class: middle center
name: intro
# Les Interfaces Utilisateur comme Fonctions Pures du Temps

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2500" height="500" viewBox="0 0 661.45833 132.29168" id="svg8"><defs id="defs2"><linearGradient id="linearGradient5473"><stop offset="0" id="stop5469" stop-color="#655488"/><stop offset="1" id="stop5471" stop-color="#655488" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5465"><stop offset="0" id="stop5461" stop-color="#72c0d7"/><stop offset="1" id="stop5463" stop-color="#72c0d7" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5457"><stop offset="0" id="stop5453" stop-color="#83c730"/><stop offset="1" id="stop5455" stop-color="#83c730" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5449"><stop offset="0" id="stop5445" stop-color="#fdfb24"/><stop offset="1" id="stop5447" stop-color="#fdfb24" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5441"><stop offset="0" id="stop5437" stop-color="#e88717"/><stop offset="1" id="stop5439" stop-color="#e88717" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5433"><stop offset="0" id="stop5429" stop-color="#cb1328"/><stop offset="1" id="stop5431" stop-color="#cb1328" stop-opacity="0"/></linearGradient><linearGradient id="linearGradient5425"><stop offset="0" id="stop5421" stop-color="#fff" stop-opacity="0"/><stop offset="1" id="stop5423" stop-color="#fff"/></linearGradient><linearGradient xlink:href="#linearGradient5425" id="linearGradient5427" x1="39.65" y1="167.11" x2="232.815" y2="167.11" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5433" id="linearGradient5435" x1="266.576" y1="147.761" x2="459.742" y2="147.761" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5441" id="linearGradient5443" x1="270.318" y1="154.603" x2="463.484" y2="154.603" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5449" id="linearGradient5451" x1="275.129" y1="161.445" x2="468.295" y2="161.445" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5457" id="linearGradient5459" x1="278.336" y1="168.286" x2="471.502" y2="168.286" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5465" id="linearGradient5467" x1="282.078" y1="175.128" x2="475.244" y2="175.128" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#linearGradient5473" id="linearGradient5475" x1="287.156" y1="181.97" x2="480.322" y2="181.97" gradientUnits="userSpaceOnUse" gradientTransform="translate(110.393 -10.956)"/><linearGradient xlink:href="#final-3" id="linearGradient4697" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"/><linearGradient y2="2.269" x2="553.446" y1="637.383" x1="186.763" gradientUnits="userSpaceOnUse" id="final-3"><stop id="stop4643" offset=".415" stop-color="#51d3d9"/><stop id="stop4645" offset="1" stop-color="#c8ff8c"/></linearGradient><linearGradient xlink:href="#final-4-6" id="linearGradient4699" gradientUnits="userSpaceOnUse" x1="534.386" y1="527.969" x2="631.412" y2="359.915"/><linearGradient y2="359.915" x2="631.412" y1="527.969" x1="534.386" gradientUnits="userSpaceOnUse" id="final-4-6"><stop id="stop4650" offset=".415" stop-color="#51d3d9"/><stop id="stop4652" offset="1" stop-color="#5a919b"/></linearGradient></defs><g id="layer1" transform="translate(-39.65 -77.024)"><path d="M150.077 182.025l193.097-51.74" id="path4511" class="stream" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5427)" stroke-width=".265"/><path id="path4513" d="M388.763 131.46l193.098 51.741" class="stream" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5459)" stroke-width=".265"/><path class="stream" d="M385.556 124.619l193.097 51.74" id="path4556" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5451)" stroke-width=".265"/><path class="stream" d="M392.505 138.303l193.097 51.74" id="path4558" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5467)" stroke-width=".265"/><path id="path4560" d="M397.583 145.144l193.098 51.74" class="stream" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5475)" stroke-width=".265"/><path id="path4562" d="M380.745 117.777l193.098 51.74" class="stream" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5443)" stroke-width=".265"/><path class="stream" d="M377.004 110.935l193.097 51.74" id="path4564" fill="none" fill-rule="evenodd" stroke="url(#linearGradient5435)" stroke-width=".265"/><path id="path4493" d="M427.358 197.698H301.429l31.482-54.529 31.482-54.528 31.482 54.528z" fill="#0a0a0a" stroke="#fff" stroke-width="2.646" stroke-linecap="round" paint-order="stroke fill markers"/><g id="g4657" transform="translate(241.525 118.584) scale(.04113)"><linearGradient y2="2.269" x2="553.446" y1="637.383" x1="186.763" gradientUnits="userSpaceOnUse" id="linearGradient5212"><stop id="stop5208" offset=".415" stop-color="#51d3d9"/><stop id="stop5210" offset="1" stop-color="#c8ff8c"/></linearGradient><path id="path4648" d="M639.9 495.8c-.3 6.5-2.1 12.9-5.4 18.7l-60.6 105c-7.3 12.7-20.8 20.5-35.4 20.5H202.2c-14.6 0-28.1-7.8-35.4-20.4L5.5 340.5C1.8 334.1 0 327.1 0 320s1.4-14.5 5.7-21.7L166.9 20.4C174.2 7.8 187.7 0 202.2 0h336.3c14.6 0 28.1 7.8 35.4 20.4 0 0 58.3 95.5 62.5 102.3 4.2 6.8 3.5 15.4 3.5 22.4 0 6-1.7 14.2-3.3 20.7-1.6 6.5-50.4 204.3-50.4 204.3L479.7 143.6H261.4L159.2 320l102.2 176.4h218.2z" fill="url(#linearGradient4697)"/><linearGradient y2="359.915" x2="631.412" y1="527.969" x1="534.386" gradientUnits="userSpaceOnUse" id="linearGradient5219"><stop id="stop5215" offset=".415" stop-color="#51d3d9"/><stop id="stop5217" offset="1" stop-color="#5a919b"/></linearGradient><path id="path4655" d="M562.1 319.9l74 156.9c5.7 12.1 5.1 26.2-1.6 37.8l-154.8-18.1z" fill="url(#linearGradient4699)"/></g><path class="time-min" d="M256.467 132.198l6.692-7.427" id="path4501" fill="none" stroke="#fff" stroke-width="2.549" stroke-linecap="round"/><path class="time-hour" d="M256.467 132.198l-5.1-4.396" id="path4503" fill="none" stroke="#fff" stroke-width="2.549" stroke-linecap="round"/></g></svg>

---
class: middle
## ¬´ Il faut que j'apprenne JavaScript ¬ª
.right[‚Äî @atomrc, 2011]

---
class: center
![html5 resume](https://cloud.githubusercontent.com/assets/1090716/21966622/0273c282-db77-11e6-886a-1ddee2ec3187.gif)

---
class: middle
# Comment liriez vous ce code ?

---
class: middle
# S√ªrement en commen√ßant par `(main|application|index).js`

---
layout: true
# Anatomie de `main.js`

---
```javascript
function main() {

  function run() {
    cvController.step();
    requestAnimationFrame(run);
  }

  requestAnimationFrame(run);
}
```

---
## Je vois plein de probl√®mes avec ce bout de code

---
```javascript
function main() {

  function run() {
    cvController.step();        // Side effects
    requestAnimationFrame(run); // Side effects
  }

  requestAnimationFrame(run);   // Side effects
}
```

--
## 3 instructions, 3 effets de bord !!

--
### Mais ce n'est pas ce dont je veux vous parler

---

```javascript
function main() {

  function run() {
    cvController.step();
    requestAnimationFrame(run);
    // ‚Üë le temps est une d√©pendance de l'application
  }

  requestAnimationFrame(run);
  // ‚Üë l√† aussi
}
```

---

```javascript
function main() {
          // ‚Üë pourquoi √ßa n'est pas une d√©pendance explicite ?
  function run() {
    cvController.step();
    requestAnimationFrame(run);
    // ‚Üë le temps est une d√©pendance de l'application
  }

  requestAnimationFrame(run);
  // ‚Üë l√† aussi
}
```

---
layout: false
# Vous en voulez plus ?

```javascript
function run() {
  cvController.step();
* if (!paused) {
    requestAnimationFrame(run);
* }
}
```

Visiblement, l'application peut alterer son temps

---
# Maintenant imaginez ce cas de figure

```javascript
function run() {
  if (!paused) {
    // code
    // code
    // code
    // code
    // code
    // code
    // code
    requestAnimationFrame(run)
    // code
    // code
    // code
    // code
    // code
    // code
  }
}
```

---
class: middle
layout: false
# Est-ce la techno utilis√©e ?
## Essayons avec d'autres ...

---
# `main.ng.js`

```javascript
function main() {
  const app = angular.module("cv", ["cvModule"])

  app.run(function ($scope, cvController) {
    function update() {
      $scope.$apply(cvController.step.bind(cvController));
      raf(update)
    }
    raf(update)
  })

  angular.bootstrap(AppContainer, [app.name])
}
```

--
.animate-from-bottom[.middled.banner[Pas mieux !!]]

---
# `main.react.js`

```javascript
function main() {
  function run() {
    state = update(state)
    ReactDOM.render(
      <cv data="{state}/">,
      AppContainer
    )
    raf(run)
  }

  raf(run)
}
```

--
.animate-from-bottom[.middled.banner[Pas mieux !!]]

---
# `main.vue.js`

```javascript
function main() {
  const cv = new Vue({
    el: "#main",
    data: { state }
  })

  function run() {
    update(state)
    raf(run)
  }
  raf(run)
}
```

--
.animate-from-bottom[.middled.banner[Toujours pas mieux !!]]

---
class: center
name: beforecycle
# Temps embarqu√©

<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1700" height="1000" viewBox="0 0 449.79166 264.58334" id="svg4521"><g transform="translate(0 -32.417)" id="g4519"><rect class="appland" width="250.61" height="175.357" x="99.591" y="54.477" ry="1.323" id="rect4499" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text style="line-height:6.61458302px" x="214.809" y="69.08" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" id="text4503" font-family="sans-serif" stroke-width=".265"><tspan x="214.809" y="69.08" id="tspan4501" fill="#fff">App</tspan></text><path d="M172.507 142.155h76.285" class="stream" id="path4513" fill="url(#c)" fill-rule="evenodd" stroke="#fff" stroke-width="5.292" stroke-linecap="round" stroke-dasharray="5.29166669,10.58333339"/></g><g transform="translate(-49.921 -88.004) scale(1.41199)" id="g4505" stroke="#fff" stroke-width="3.969" stroke-linecap="round"><circle cy="140.045" cx="138.416" id="circle4499" r="14.159" fill="none" stroke-width="2.59" paint-order="stroke fill markers"/><path class="time-min" d="M138.416 140.045l6.8-7.547" id="path4501" fill="none" stroke-width="2.59"/><path class="time-hour" d="M138.634 140.045l-5.183-4.467" id="path4503" fill="none" stroke-width="2.59"/></g></svg>
</div>

---
name: cycle-intro
class: middle center
# Et puis il y a Cycle.js

<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"><stop offset=".415" stop-color="#51d3d9"/><stop offset="1" stop-color="#c8ff8c"/></linearGradient><path fill="url(#SVGID_1_)" d="M639.9 495.8c-.3 6.5-2.1 12.9-5.4 18.7l-60.6 105c-7.3 12.7-20.8 20.5-35.4 20.5H202.2c-14.6 0-28.1-7.8-35.4-20.4L5.5 340.5C1.8 334.1 0 327.1 0 320s1.4-14.5 5.7-21.7L166.9 20.4C174.2 7.8 187.7 0 202.2 0h336.3c14.6 0 28.1 7.8 35.4 20.4 0 0 58.3 95.5 62.5 102.3s3.5 15.4 3.5 22.4c0 6-1.7 14.2-3.3 20.7-1.6 6.5-50.4 204.3-50.4 204.3L479.7 143.6H261.4L159.2 320l102.2 176.4h218.2l160.3-.6z"/><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="534.386" y1="527.969" x2="631.412" y2="359.915"><stop offset=".415" stop-color="#51d3d9"/><stop offset="1" stop-color="#5a919b"/></linearGradient><path fill="url(#SVGID_2_)" d="M562.1 319.9l74 156.9c5.7 12.1 5.1 26.2-1.6 37.8l-154.8-18.1 82.4-176.6z"/></svg>

---
# `main.cycle.js`

```javascript
function main({ time }) {
             // ‚Üë Hello you!
  return {
    DOM: time
      .animationFrames()
      .fold(update, initialState)
      .map(render)
  }
}
```

--
```javascript
run(main, {
  DOM: makeDOMDriver("#main"),
  time: timeDriver
})
```

---
class: center
name: aftercycle
# Temps inject√©

<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1700" height="1000" viewBox="0 0 449.79166 264.58334" id="svg4515"><g transform="translate(0 -32.417)" id="g4513"><path d="M61.25 142.155h39.137" class="stream" id="path4511" fill="none" stroke="#fff" stroke-width="5.292" stroke-linecap="round" stroke-dasharray="5.29166669,10.58333339000000173"/><path d="M82.268 167.767l17.323-10.002v70.746c0 .733.59 1.323 1.323 1.323h247.964a1.32 1.32 0 0 0 1.323-1.323V55.801a1.32 1.32 0 0 0-1.323-1.324H100.914a1.32 1.32 0 0 0-1.323 1.323v73.465l-17.323-10.001" id="rect4493" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text style="line-height:6.61458302px" x="206.809" y="69.08" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" id="text4497" font-family="sans-serif" stroke-width=".265"><tspan x="206.809" y="69.08" id="tspan4495" fill="#fff">App</tspan></text><g transform="translate(-160.545 -54.558) scale(1.41199)" stroke="#fff" stroke-width="3.969" stroke-linecap="round" id="g4505"><circle cy="140.045" cx="138.416" id="circle4499" r="14.159" fill="none" stroke-width="2.59" paint-order="stroke fill markers"/><path class="time-min" d="M138.416 140.045l6.8-7.547" id="path4501" fill="none" stroke-width="2.59"/><path class="time-hour" d="M138.634 140.045l-5.183-4.467" id="path4503" fill="none" stroke-width="2.59"/></g></g></svg>
</div>

---
class: middle
# Nous subissons le temps ...

---
class: middle
# ... Pourquoi pas nos applications ?

---
class: middle
# app = function (time) ?

---
class: middle
# Qu'est-ce qu'une interface ?

---
class: middle
> Une fonction des √©v√©nements qui s'y produisent

---
class: middle
# Qu'est-ce qu'un √©v√©nement ?

---
class: middle
> Quelque chose qui se produit √† un point pr√©cis du temps

---
class: middle
> Une fonction du temps

```javascript
function raf(timestamp) {
  return timestamp % 16 === 0;
}
```

---
class: left-align
# app = function (time) ?

--
## app = function (events)

--
## app = function (function (time))

--
## app = function (time)

Merci transitivit√© üëç 

---
class: middle

> √©v√©nements != signaux

---
layout: false
class: middle
# Tout est signal ? Vraiment ?

---
class: center, huge-code
# Messages Hardware ?

```
raf ---x---x---x---x---x---x--->

geo ---48.8;2.2---48.8;2.3----->
```

--
.check[‚úì]

---
class: center, huge-code
# R√©ponse serveur ?

```
server ----200-----404--------->
```

--
.check[‚úì]

---
class: center, huge-code
# Actions utilisateur ?

```
keyup ---------x---------x----->

click ----x----------x--------->
```

--
.check[‚úì]

---
# Plut√¥t que de se d√©barrasser du temps le plus vite possible ...

```javascript
input.addEventListener("keyup", function (event) {
  if (event.key === "Enter") {
    var name = event.target.value;
    user.name = name;
  }
})
```

---
# Plut√¥t que de se d√©barrasser du temps le plus vite possible ...

```javascript
input.addEventListener("keyup", function (event) {
  if (event.key === "Enter") {
    // ‚Üë‚Üì relation spatiale entre ces 2 lignes
    var name = event.target.value;
    user.name = name;
  }
})
```


---
# Rendons tout d√©pendant du temps

```javascript
const user$ = fromEvent("keyup", input)

  // ‚Üì function(events)
  .filter(event => event.key === "Enter")

  // ‚Üì function(filtered events)
  .map(event => event.target.value)

  // ‚Üì function(filtered events' values)
  .fold((user, name) => ({ ...user, name }), {})
```

---
# Rendons tout d√©pendant du temps

```javascript
const user$ = fromEvent("keyup", input)

  // ‚Üì function(time)
  .filter(event => event.key === "Enter")

  // ‚Üì function(time)
  .map(event => event.target.value)

  // ‚Üì function(time)
  .fold((user, name) => ({ ...user, name }), {})
```

Merci transitivit√© üëç 

---
# Rendons tout observable

```javascript
const user$ = fromEvent("keyup", input)

  // ‚Üì observable
  .filter(event => event.key === "Enter")

  // ‚Üì observable
  .map(event => event.target.value)

  // ‚Üì observable
  .fold((user, name) => ({ ...user, name }), {})
```

---
# Rendons tout d√©claratif

```javascript
const user$ = fromEvent("keyup", input)

  // ‚Üì pas besoin de l'impl√©mentation ici
  .filter(isEnterKey)

  // ‚Üì pas besoin de l'impl√©mentation ici
  .map(getValue)

  // ‚Üì pas besoin de l'impl√©mentation ici
  .fold(userReducer, initialUser)
```

---
# Rendons tout exportable

```javascript
const keyup$ = fromEvent("keyup", input)


const enter$ = keyup$.filter(isEnterKey)


const name$ = enter$.map(getValue)


const user$ = name$.fold(userReducer, initialUser)
```

--
# Reactive Programming FTW!

---
class: middle
# Pensons en DataFlow
## Plut√¥t qu'en instructions

---
class: middle
# Impl√©mentons la pause

---
class: middle
name: pausev1

<div style="float: right">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="412.901" height="871.727" viewBox="0 0 109.24666 230.64434" id="svg4511"><defs id="defs4493"><linearGradient id="linearGradient4521"><stop offset="0" id="stop4517" stop-color="#e83d08"/><stop offset="1" id="stop4519" stop-color="#fff"/></linearGradient><linearGradient xlink:href="#linearGradient4521" id="linearGradient4523" x1="233.703" y1="92.108" x2="232.732" y2="229.222" gradientUnits="userSpaceOnUse"/></defs><g transform="translate(-170.273 -44.13)" id="g4509"><path style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;shape-padding:0;isolation:auto;mix-blend-mode:normal" d="M218.28 98.547v124.219h13.231V98.546z" font-weight="400" overflow="visible" id="path4501" color="#000" font-family="sans-serif" white-space="normal" fill="#a3caff" fill-rule="evenodd" stroke-width="13.229"/><path d="M207.767 86.112l7.137 12.362h-43.696a.933.933 0 0 0-.935.935V221.49c0 .518.417.935.935.935h43.973l-7.414 12.842m34.259 0l-7.414-12.842h43.973a.933.933 0 0 0 .935-.935V99.41a.933.933 0 0 0-.935-.935H234.89l7.137-12.362" id="rect4495" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text style="line-height:6.61458302px" x="214.561" y="51.845" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text4499"><tspan x="214.561" y="51.845" id="tspan4497">RAF</tspan></text><path d="M225.085 56.002l-.378 206.98" class="stream raf-stream" stroke-miterlimit="10" id="path4503" fill="none" fill-rule="evenodd" stroke="url(#linearGradient4523)" stroke-width="2.646" stroke-linecap="round" stroke-dasharray="2.64583204,5.29166407000000039"/><text y="274.624" x="212.09" style="line-height:6.61458302px" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text4507"><tspan y="274.624" x="212.09" id="tspan4505">DOM</tspan></text></g></svg>
</div>

```javascript
function main({ time }) {

  const raf$ = time.animationFrames()

  return {
    DOM: raf$
      .fold(update, initialState)
      .map(render)
  }
}
```

---
name: pausev2
class: middle

<div style="float: right">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="412.901" height="866.254" viewBox="0 0 109.24666 229.19635" id="svg4766"><defs id="defs4738"><linearGradient id="gradpause1"><stop offset="0" stop-color="#ef3b00" id="stop4730"/><stop offset=".034" stop-color="#e83d08" id="stop4732"/><stop offset="1" stop-color="#fff" id="stop4734"/></linearGradient><linearGradient xlink:href="#gradpause1" id="gpause1" x1="213.302" y1="98.318" x2="212.616" y2="231.089" gradientUnits="userSpaceOnUse"/></defs><g transform="translate(-170.273 -50.64)" id="g4764"><text y="58.494" x="188.102" style="line-height:6.61458349px" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text4744"><tspan y="58.494" x="188.102" id="tspan4742">RAF</tspan></text><text style="line-height:6.61458349px" x="212.09" y="279.686" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text4748"><tspan x="212.09" y="279.686" id="tspan4746">DOM</tspan></text><path d="M255.996 65.826l-.068 33.036" class="stream lf dom-stream" fill="none" fill-rule="evenodd" stroke="#ef3b00" stroke-width=".265" stroke-linecap="round" stroke-miterlimit="10" id="path4752"/><path d="M198.249 105.477v54.503l26.193 26.194v38.63" id="path4754" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583"/><path d="M198.317 65.826l-.068 37.534v57.15l26.647 26.724-.19 80.81" class="stream raf-stream" fill="none" fill-rule="evenodd" stroke="url(#gpause1)" stroke-width=".265" stroke-linecap="round" stroke-miterlimit="10" id="path4758"/><text style="line-height:6.61458349px" x="243.157" y="58.494" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text4762"><tspan x="243.157" y="58.494" id="tspan4760">DOM</tspan></text><path id="path4507" d="M256.746 105.49v54.504" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583"/></g><path id="path11347" d="M76.54 52.797l-7.076-11.084m-57.37-.285l6.079 11.304H.935a.933.933 0 0 0-.935.934V175.75c0 .518.417.935.935.935H43.85l-6.885 11.254m33.73.53l-6.356-11.784h43.973a.933.933 0 0 0 .935-.935V53.666a.933.933 0 0 0-.935-.934l-12.011-.392 5.613-10.627m-32.45 0l7.076 11.084-38.383-.065 6.079-11.304" fill="none" stroke="#edaf1f" stroke-width="5.5" paint-order="stroke fill markers"/></svg>
</div>


```javascript
function main({ time, DOM }) {

  const raf$ = time.animationFrames()

  const paused$ = DOM.select("document")
    .events("keyup")
    .filter(ev => ev.keyCode === 32)
    .fold(acc => !acc, false)

  return {
    DOM: time
      .animationFrames()
      .fold(update, initialState)
      .map(render)
  }
}
```

---
name: pausev3
class: middle

<div style="float: right">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="412.901" height="866.254" viewBox="0 0 109.24666 229.19635" id="svg5439"><defs id="defs5407"><linearGradient id="linearGradient6004"><stop id="stop6000" stop-color="#ef3b00" offset="0"/><stop id="stop6002" stop-color="#fff" offset="1"/></linearGradient><linearGradient id="linearGradient5998"><stop id="stop5994" stop-color="#ef3b00" offset="0"/><stop id="stop5996" stop-color="#f6f6f6" offset="1"/></linearGradient><linearGradient id="gradpause3a"><stop offset="0" stop-color="#ef3b00" id="stop5399"/><stop offset="1" stop-color="#f1f1f1" id="stop5401"/></linearGradient><linearGradient xlink:href="#linearGradient5998" id="gradpause3c" gradientUnits="userSpaceOnUse" x1="209.659" y1="98.766" x2="210.307" y2="230.155"/><linearGradient xlink:href="#linearGradient6004" id="gradpause3b" x1="217.322" y1="98.834" x2="218.827" y2="231.302" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#gradpause3a" id="gradpause3d" x1="242.674" y1="99.008" x2="241.224" y2="231.996" gradientUnits="userSpaceOnUse"/></defs><g transform="translate(-170.273 -50.64)" id="g5437"><path d="M241.014 93.818l5.611 9.718h-38.943l5.51-9.546m-30.22 0l5.512 9.546h-17.276a.933.933 0 0 0-.935.935v122.082c0 .518.417.935.935.935h43.484l-5.968 10.337m31.28 0l-5.969-10.337h44.55a.933.933 0 0 0 .935-.935V104.471a.933.933 0 0 0-.935-.935h-12.961l5.61-9.718" id="rect5409" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text y="58.494" x="188.102" style="line-height:6.61458349px" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text5413"><tspan y="58.494" x="188.102" id="tspan5411">RAF</tspan></text><text style="line-height:6.61458349px" x="212.09" y="279.686" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text5417"><tspan x="212.09" y="279.686" id="tspan5415">DOM</tspan></text><path d="M198.249 106.006v53.974l26.193 26.194v38.63" id="path5421" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round"/><text style="line-height:6.61458349px" x="243.157" y="58.494" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" stroke-width=".265" id="text5427"><tspan x="243.157" y="58.494" id="tspan5425">DOM</tspan></text><path d="M256.192 106.006v53.974l-31.296 27.254" id="path5429" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round"/><path class="stream out-stream" d="M224.896 187.234l-.522 75.632" stroke-miterlimit="10" fill="none" fill-rule="evenodd" stroke="url(#gradpause3b)" stroke-width="3.969" stroke-linecap="round" stroke-dasharray="3.969,7.93799999999999972" id="path5431"/><path d="M198.317 65.826l-.068 94.154 26.647 27.254" class="stream raf-stream" stroke-miterlimit="10" fill="none" fill-rule="evenodd" stroke="url(#gradpause3c)" stroke-width="3.969" stroke-linecap="round" stroke-dasharray="3.969,7.93799999999999883" id="path5433"/><path d="M255.996 65.826l.196 94.154-31.296 27.254" class="stream lf dom-stream" stroke-miterlimit="10" fill="none" fill-rule="evenodd" stroke="url(#gradpause3d)" stroke-width="3.969" stroke-linecap="round" stroke-dasharray="0,50.00000105" stroke-dashoffset="13.892" id="path5435"/></g></svg>
</div>

```javascript
function main({ time, DOM }) {

  const raf$ = time.animationFrames()

  const paused$ = DOM.select("document")
    .events("keyup")
    .filter(ev => ev.keyCode === 32)
    .fold(acc => !acc, false)

  return {
    DOM: time
      .animationFrames()
      .combine(sampleCombine(pause$))
      .filter(([_, paused]) => !paused)
      .fold(update, initialState)
      .map(render)
  }
}
```

---
class: middle
# Testing ?

---
# Testing

Notre application :
- ne d√©pend que des signaux en entr√©e ;
- retourne les effets de bords √† ex√©cuter ;
- n'ex√©cute aucun effet de bord elle m√™me.

---
# Testing

## Autrement dit : on a √† faire √† des fonctions pures :)

---
# Testing

## Ca devrait √™tre facile √† tester, non ?

--
## Oh que oui :)

---
# Testing

## Test 1 : l'application retourne du `vDOM` quand on envoie des `animationFrames`

---
name: test1
class: center, semi-condensed
# Testing

<div>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="412.902" height="866.255" viewBox="0 0 109.24697 229.19648" id="svg4605"><defs id="defs4573"><linearGradient id="gradtest1a"><stop offset="0" stop-color="#ff7f2a" id="stop4567"/><stop offset="1" stop-color="#fafcff" id="stop4569"/></linearGradient><linearGradient xlink:href="#gradtest1a" id="gradtest1b" x1="216.068" y1="99.086" x2="215.297" y2="230.04" gradientUnits="userSpaceOnUse"/></defs><g transform="translate(-170.273 -50.64)" id="g4603"><path d="M235.882 235.729l-4.757-8.241h47.46a.933.933 0 0 0 .935-.935V104.471a.933.933 0 0 0-.935-.935h-15.46l4.507-7.807m-23.216 0l4.507 7.807h-43.477l4.507-7.807m-23.216 0l4.507 7.807h-20.036a.933.933 0 0 0-.935.935v122.082c0 .518.417.935.935.935h46.216l-4.758 8.24" id="rect4575" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text y="74.898" x="188.102" style="line-height:6.61458349px" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4579"><tspan y="74.898" x="188.102" id="tspan4577">RAF</tspan></text><text style="line-height:6.61458349px" x="212.09" y="265.928" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4583"><tspan x="212.09" y="265.928" id="tspan4581">DOM</tspan></text><path d="M198.249 106.006v53.974l26.193 26.194v38.63" id="path4587" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round"/><text style="line-height:6.61458349px" x="243.157" y="74.898" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4593"><tspan x="243.157" y="74.898" id="tspan4591">DOM</tspan></text><path d="M256.192 106.006v53.974l-31.296 27.254" id="path4595" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round"/><path d="M198.437 83.2l-.188 76.78 26.193 26.194v64.764" class="stream vlf" stroke-miterlimit=".4" id="path4597" fill="none" fill-rule="evenodd" stroke="url(#gradtest1b)" stroke-width="5.292" stroke-linecap="round" stroke-dasharray="5.29166481,126.99995543"/><text style="line-height:6.61458111px" x="238.105" y="255.688" class="check hidden" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" fill="#0f0" stroke-width=".265" id="text4601"><tspan x="238.105" y="255.688" font-size="25.4" id="tspan4599">‚úì</tspan></text></g></svg>
</div>

---
# Testing

```javascript
const sources = {
  time: { animationFrames: () => xs.of(1) },
  DOM: mockDOMSource()
}

const { DOM } = main(sources)

DOM
  .addListener({
    next: function (vdom) {
      // on peut faire des asserts sur le vdom rendu
    },
    complete: done
  })
```

---
# Testing

## Test 2 : L'application ne retourne pas de `vDOM` quand elle est en pause

---
name: test2
class: center, semi-condensed
# Testing

<div>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="412.902" height="866.255" viewBox="0 0 109.24697 229.19648" id="svg4743"><defs id="defs4707"><linearGradient id="linearGradient5302"><stop id="stop5298" stop-color="#ff7f2a" offset="0"/><stop id="stop5300" stop-color="#fff" offset="1"/></linearGradient><linearGradient id="linearGradient5296"><stop id="stop5292" stop-color="#ff7f2a" offset="0"/><stop id="stop5294" stop-color="#fcfcfc" offset="1"/></linearGradient><linearGradient id="gradtest2a"><stop offset="0" stop-color="#ff7f2a" id="stop4699"/><stop offset="1" stop-color="#287df2" id="stop4701"/></linearGradient><linearGradient xlink:href="#linearGradient5296" id="gradtest2b" x1="211.055" y1="98.739" x2="207.516" y2="230.933" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#linearGradient5302" id="gradtest2c" gradientUnits="userSpaceOnUse" x1="209.376" y1="103.608" x2="208.203" y2="232.65" gradientTransform="translate(57.68)"/><linearGradient xlink:href="#gradtest2a" id="gradtest2d" x1="232.06" y1="78.066" x2="230.887" y2="255.062" gradientUnits="userSpaceOnUse"/></defs><g transform="translate(-170.273 -50.64)" id="g4741"><text y="74.898" x="188.102" style="line-height:6.61458349px" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4713"><tspan y="74.898" x="188.102" id="tspan4711">RAF</tspan></text><text style="line-height:6.61458349px" x="212.09" y="265.928" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4717"><tspan x="212.09" y="265.928" id="tspan4715">DOM</tspan></text><path d="M198.249 103.36v56.62l26.193 26.194v36.513" id="path4721" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round"/><text style="line-height:6.61458349px" x="243.157" y="74.898" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265" id="text4727"><tspan x="243.157" y="74.898" id="tspan4725">DOM</tspan></text><path d="M256.192 103.36v56.62l-31.296 27.254" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="10.583" stroke-linejoin="round" id="path4729"/><text style="line-height:6.61458111px" x="238.105" y="255.688" class="check hidden" font-weight="400" font-size="10.583" font-family="sans-serif" letter-spacing="0" word-spacing="0" fill="#0f0" stroke-width=".265" id="text4733"><tspan x="238.105" y="255.688" font-size="25.4" id="tspan4731">‚úì</tspan></text><path class="stream raf-stream" d="M198.437 83.2l-.188 76.78 26.193 26.194" fill="none" fill-rule="evenodd" stroke="url(#gradtest2b)" stroke-width="5.292" stroke-linecap="round" stroke-miterlimit=".4" id="path4735"/><path d="M256.116 83.2l.076 76.78-31.75 26.194" class="stream dom-stream" fill="none" fill-rule="evenodd" stroke="url(#gradtest2c)" stroke-width="5.292" stroke-linecap="round" stroke-miterlimit=".4" id="path4737"/><path d="M224.442 186.174l-.261 66.88" class="stream out-stream hidden" fill="none" fill-rule="evenodd" stroke="url(#gradtest2d)" stroke-width=".265" id="path4739"/></g><path d="M65.529 183.005l-4.757-8.24h47.46a.933.933 0 0 0 .935-.935V51.747a.933.933 0 0 0-.935-.935h-15.46l4.507-7.807m-23.217 0l4.508 7.807H35.093l4.507-7.807m-23.217 0l4.508 7.807H.854a.933.933 0 0 0-.934.935V173.83c0 .518.416.935.934.935H47.07l-4.758 8.24" id="rect4575" fill="none" stroke="#edaf1f" stroke-width="5.292"/></svg>
</div>

---
class: condensed

# Testing

```javascript
const raf$   = time.diagram("-1|")
const pause$ = time.diagram("1-|")
```

--
```javascript
const domSource = mockDOMSource({
  "document": {
    keyup: pause$.map(toSpaceKeyup)
  }
})

const sources = {
  time: { animationFrames: raf$ },
  DOM: domSource
}
```

--

```javascript
const { DOM } = main(sources);

DOM.addListener({
  next: function (vdom) {
    // erreur on ne doit rien emettre
  },
  complete: done
})
```

---
class: middle

# Les diff√©rentes Architectures d'applications
---
name:resumearch
class: center
# Architecture de mon CV

<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080" viewBox="0 0 508 285.75001" id="svg10026"><g id="layer1" transform="translate(0 -11.25)"><rect class="appland" ry="1.298" id="rect4666" width="185.208" height="171.979" x="161.396" y="45.646"/><text style="line-height:6.61458349px" x="241.895" y="61.014" id="text4915" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan4913" x="241.895" y="61.014" font-size="12.7" fill="#fff">App</tspan></text><g transform="matrix(.513 0 0 .513 123.105 58.133)" id="g4505" stroke="#fff" stroke-width="3.969" stroke-linecap="round"><circle r="21.694" cy="139.316" cx="139.935" id="circle4499" fill="none" paint-order="stroke fill markers"/><path class="time-min" d="M139.935 139.316l10.419-11.564" id="path4501" fill="none"/><path class="time-hour" d="M140.269 139.316l-7.941-6.844" id="path4503" fill="none"/></g><path d="M209.875 129.602h57.76" id="path6350" class="stream" fill="none" fill-rule="evenodd" stroke="#fff" stroke-width=".265"/><path id="path10610" d="M287.203 133.62l-6.962-.405-4.282 5.505-1.765-6.747-6.559-2.37 5.871-3.765.228-6.97 5.394 4.42 6.7-1.936-2.538 6.496z" class="sideeffect-1 hidden" fill="#fff" stroke="#f7f9fc" stroke-width=".036" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><path class="sideeffect-2 hidden" d="M287.203 133.62l-6.962-.405-4.282 5.505-1.765-6.747-6.559-2.37 5.871-3.765.228-6.97 5.394 4.42 6.7-1.936-2.538 6.496z" id="path10612" fill="#fff" stroke="#f7f9fc" stroke-width=".036" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><path id="path10614" d="M287.203 133.62l-6.962-.405-4.282 5.505-1.765-6.747-6.559-2.37 5.871-3.765.228-6.97 5.394 4.42 6.7-1.936-2.538 6.496z" class="sideeffect-3 hidden" fill="#fff" stroke="#f7f9fc" stroke-width=".036" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/></g></svg>
</div>

--
.animate-from-bottom[.middled.banner[`app()`]]

---
name:reactarch
class: center
# Architecture React

<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080" viewBox="0 0 508.00001 285.74999" id="svg8"><defs id="defs15462"><marker orient="auto" id="marker11503" overflow="visible"><path id="path11501" d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker><marker id="marker17553" orient="auto" overflow="visible"><path d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" id="path17551" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker><marker id="marker17553-3" orient="auto" overflow="visible"><path d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" id="path17551-6" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker></defs><g transform="translate(0 -11.25)" id="layer1"><path d="M351.458 107.384l-16.021 9.25v-69.69c0-.72-.58-1.298-1.298-1.298H151.527c-.719 0-1.298.579-1.298 1.298v169.383c0 .719.58 1.298 1.298 1.298H334.14c.719 0 1.298-.579 1.298-1.298v-69.69l16.021 9.25" id="rect4666" fill="none" stroke="#edaf1f" stroke-width="5.292" stroke-linejoin="bevel" stroke-linecap="round"/><text style="line-height:6.61458302px" x="230.728" y="58.019" id="text4915" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan4913" x="230.728" y="58.019" font-size="12.7" fill="#fff">App</tspan></text><g transform="matrix(.513 0 0 .513 111.938 58.843)" id="g4505" stroke="#fff" stroke-width="3.969" stroke-linecap="round"><circle r="21.694" cy="139.316" cx="139.935" id="circle4499" fill="none" paint-order="stroke fill markers"/><path class="time-min" d="M139.935 139.316l10.419-11.564" id="path4501" fill="none"/><path class="time-hour" d="M140.269 139.316l-7.941-6.844" id="path4503" fill="none"/></g><path d="M183.403 145.048l.281 6.932 40.346.426v.32" id="path6348" class="stream" fill="none" fill-rule="evenodd" stroke="#fff" stroke-width=".265"/><path d="M184.043 114.338v-9.645h77.415" id="path6350" class="stream" fill="none" fill-rule="evenodd" stroke="#fff" stroke-width=".265"/><g transform="translate(-8.27 -10.257)" id="g6320"><rect ry="1.325" y="150.792" x="216.259" height="23.382" width="53.111" id="rect6314" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text id="text6318" y="164.367" x="222.211" style="line-height:6.61458302px" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan y="164.367" x="222.211" id="tspan6316" fill="#1a1a1a">Component</tspan></text></g><g id="g6328" transform="translate(55.39 -10.257)"><rect id="rect6322" width="53.111" height="23.382" x="216.259" y="150.792" ry="1.325" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text style="line-height:6.61458302px" x="222.211" y="164.367" id="text6326" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan6324" x="222.211" y="164.367" fill="#1a1a1a">Component</tspan></text></g><g id="g6304" transform="translate(24.619 -57.258)"><rect id="rect6298" width="53.111" height="23.382" x="216.259" y="150.792" ry="1.325" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text style="line-height:6.61458302px" x="222.211" y="164.367" id="text6302" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan6300" x="222.211" y="164.367" fill="#1a1a1a">Component</tspan></text></g><path d="M264.924 115.937l-27.192 25.912" id="path6431" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="1.323"/><path d="M270.362 114.977l24.312 29.431" id="path6433" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="1.323"/><rect y="105.275" x="388.474" height="52.917" width="84.667" id="rect5875" ry=".399" class="appland" stroke-width=".375"/><text word-spacing="0" letter-spacing="0" font-size="10.583" font-weight="400" id="text5879" y="136.468" x="395.327" style="line-height:6.61458302px" font-family="sans-serif" stroke-width=".265"><tspan font-size="12.7" y="136.468" x="395.327" id="tspan5877" fill="#fff">React Land</tspan></text><g id="g8073" class="hidden output" transform="translate(1.058)"><rect ry="1.02" y="123.135" x="292.608" height="18.006" width="43.211" id="rect6752" fill="#a3caff" stroke="#287df2" stroke-width=".203" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text word-spacing="0" letter-spacing="0" font-size="5.585" font-weight="400" id="text6756" y="139.479" x="290.552" style="line-height:5.23580313px" transform="scale(1.02786 .9729)" font-family="sans-serif" stroke-width=".21"><tspan y="139.479" x="290.552" id="tspan6754" font-size="10.053" fill="#1a1a1a">VDOM</tspan></text></g></g><style id="style4585"/></svg>
</div>

--
.animate-from-bottom[.middled.banner[`const vdom = app()`]]

---
name:reduxarch
class: center
# Architecture React + Redux

<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080" viewBox="0 0 508.00001 285.74999" id="svg8"><defs id="defs21263"><marker id="marker17553-3" orient="auto" overflow="visible"><path d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" id="path17551-6" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker><marker id="marker17553-3-7" orient="auto" overflow="visible"><path d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" id="path17551-6-5" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker><marker id="marker17553-3-7-3" orient="auto" overflow="visible"><path d="M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z" id="path17551-6-5-5" fill="#fff" fill-rule="evenodd" stroke="#fff" stroke-width=".375" stroke-linejoin="round"/></marker></defs><path d="M366.705 95.797l-19.669 11.356v-71.46c0-.718-.579-1.297-1.298-1.297H163.126c-.72 0-1.298.579-1.298 1.298v71.588l-19.894-11.485m0 49.177l19.894-11.485v71.588c0 .719.579 1.298 1.298 1.298h182.612c.72 0 1.298-.579 1.298-1.298v-71.459l19.67 11.356" id="rect4666" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text style="line-height:6.61458349px" x="242.328" y="47.117" id="text4915" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan4913" x="242.328" y="47.117" font-size="12.7" fill="#fff">App</tspan></text><circle id="circle4499" cx="257.633" cy="180.918" r="11.129" fill="none" stroke="#fff" stroke-width="2.036" stroke-linecap="round" paint-order="stroke fill markers"/><path id="path4501" d="M257.633 180.92l5.344-5.933" class="time-min" fill="none" stroke="#fff" stroke-width="2.036" stroke-linecap="round"/><path id="path4503" d="M257.804 180.92l-4.074-3.512" class="time-hour" fill="none" stroke="#fff" stroke-width="2.036" stroke-linecap="round"/><g transform="translate(-16.219 -28.056)" id="g6320"><rect ry="1.325" y="150.792" x="216.259" height="23.382" width="53.111" id="rect6314" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text id="text6318" y="164.367" x="222.211" style="line-height:6.61458302px" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan y="164.367" x="222.211" id="tspan6316" fill="#1a1a1a">Component</tspan></text></g><g id="g6328" transform="translate(47.441 -28.056)"><rect id="rect6322" width="53.111" height="23.382" x="216.259" y="150.792" ry="1.325" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text style="line-height:6.61458302px" x="222.211" y="164.367" id="text6326" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan6324" x="222.211" y="164.367" fill="#1a1a1a">Component</tspan></text></g><g id="g6304" transform="translate(15.611 -75.058)"><rect id="rect6298" width="53.111" height="23.382" x="216.259" y="150.792" ry="1.325" fill="#a3caff" stroke="#287df2" stroke-width=".256" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><text style="line-height:6.61458302px" x="222.211" y="164.367" id="text6302" font-weight="400" font-size="7.056" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan6300" x="222.211" y="164.367" fill="#1a1a1a">Component</tspan></text></g><path d="M256.975 98.138l-27.192 25.912" id="path6431" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="1.323"/><path d="M262.413 97.178l24.313 29.43" id="path6433" fill="none" fill-rule="evenodd" stroke="#a3caff" stroke-width="1.323"/><rect y="93.081" x="392.196" height="52.917" width="84.667" id="rect5875" ry=".399" class="appland" stroke-width=".375"/><text word-spacing="0" letter-spacing="0" font-size="10.583" font-weight="400" id="text5879" y="124.803" x="399.05" style="line-height:6.61458349px" font-family="sans-serif" stroke-width=".265"><tspan font-size="12.7" y="124.803" x="399.05" id="tspan5877" fill="#fff">React Land</tspan></text><rect class="appland" ry=".399" id="rect8096" width="84.667" height="52.917" x="29.711" y="89.861" stroke-width=".375"/><text style="line-height:6.61458349px" x="34.976" y="121.054" id="text8100" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" stroke-width=".265"><tspan id="tspan8098" x="34.976" y="121.054" font-size="12.7" fill="#fff">Redux Land</tspan></text><path id="path8136" d="M163.887 181.035H94.14v-40.6" fill="none" fill-rule="evenodd" stroke="#edaf1f" stroke-width="13.229"/><path d="M237.97 181.035H94.14v-51.184" id="path7095" class="stream" fill="none" fill-rule="evenodd" stroke="#ffe9e9" stroke-width=".265"/><g id="g8144" class="hidden state" transform="translate(-2.117)"><rect ry=".661" id="rect7097" width="37.273" height="13.961" x="75.937" y="113.405" class="component" fill="#a3caff" stroke="#001e47" stroke-width="1.5" stroke-dasharray="7,7"/><text style="line-height:2.29455948px" x="90.89" y="117.021" id="text7101" transform="scale(.9531 1.0492)" font-weight="400" font-size="3.671" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#1a1a1a" stroke-width=".201"><tspan x="90.89" y="117.021" id="tspan7099" font-size="6.268">State</tspan></text></g><g id="g8134" class="hidden output" transform="translate(-2.117)"><rect class="component" y="113.405" x="308.642" height="13.961" width="37.273" id="rect7460" ry=".661" fill="#a3caff" stroke="#001e47" stroke-width="1.5" stroke-dasharray="7,7"/><text word-spacing="0" letter-spacing="0" font-size="3.671" font-weight="400" transform="scale(.9531 1.0492)" id="text7464" y="117.021" x="335.047" style="line-height:2.29455948px" font-family="sans-serif" fill="#1a1a1a" stroke-width=".201"><tspan font-size="6.268" id="tspan7462" y="117.021" x="335.047">VDOM</tspan></text></g></svg>
</div>

--
.animate-from-bottom[.middled.banner[`const vdom = app(state)`]]

---
name:cyclearch
class: center
# Architecture Cycle.js

<div>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg8" viewBox="0 0 508.00001 285.74999" height="1080" width="1920"><defs id="defs6984"><linearGradient id="stream-5"><stop offset="0" id="stop7557" stop-color="#f60"/><stop stop-color="#ff954f" id="stop8730" offset=".312"/><stop offset=".32" id="stop8732" stop-color="#ffb98a"/><stop stop-color="#ffb686" id="stop8734" offset=".528"/><stop offset=".536" id="stop8736" stop-color="#ffd6ba"/><stop stop-color="#ffd7bc" id="stop8738" offset=".742"/><stop offset=".747" id="stop8740" stop-color="#fff"/><stop offset="1" id="stop7559" stop-color="#fff"/></linearGradient><linearGradient xlink:href="#stream-5" id="linearGradient7563" x1="69.364" y1="119.063" x2="420.541" y2="119.063" gradientUnits="userSpaceOnUse" gradientTransform="translate(0 -33.91)"/><linearGradient xlink:href="#hey-7" id="linearGradient5912" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"/><linearGradient xlink:href="#linearGradient5829" id="linearGradient5914" gradientUnits="userSpaceOnUse" x1="534.386" y1="527.969" x2="631.412" y2="359.915"/></defs><path d="M116.19 107.001l12.505-7.22v38.33c0 .45.361.81.81.81h248.99c.448 0 .81-.36.81-.81v-38.107l12.119 6.997m0-43.212l-12.119 6.997V32.195c0-.45-.362-.81-.81-.81h-248.99c-.449 0-.81.36-.81.81V71.01l-12.506-7.22" id="rect5021" stroke-width="5.292" stroke="#edaf1f" fill="none"/><text style="line-height:6.61458302px" x="229.61" y="109.572" id="text4853" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan id="tspan4851" x="229.61" y="109.572">DataFlow</tspan></text><text style="line-height:6.61458302px" x="241.895" y="47.765" id="text5025" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan id="tspan5023" x="241.895" y="47.765" font-size="12.7">App</tspan></text><path d="M187.908 64.431h-.59c-.482 0-.887-.416-.887-.91a.85.85 0 0 1 .292-.64l.38-.374a.955.955 0 0 0 0-1.356l-.866-.86a.974.974 0 0 0-.68-.27.981.981 0 0 0-.68.271l-.366.365a.878.878 0 0 1-.66.3c-.498 0-.914-.405-.914-.883v-.595c0-.524-.423-.975-.952-.975h-1.181c-.529 0-.949.447-.949.975v.591c0 .478-.416.882-.913.882a.869.869 0 0 1-.645-.287l-.377-.373a.958.958 0 0 0-.68-.272.981.981 0 0 0-.68.272l-.875.855a.957.957 0 0 0 0 1.352l.365.366a.88.88 0 0 1 .303.657c0 .497-.404.91-.886.91h-.59c-.533 0-.98.415-.98.943v1.181c0 .526.447.945.98.945h.59c.482 0 .886.416.886.91a.88.88 0 0 1-.303.657l-.365.361a.957.957 0 0 0 0 1.353l.867.862a.958.958 0 0 0 .68.273.981.981 0 0 0 .68-.273l.377-.373a.863.863 0 0 1 .645-.287c.498 0 .913.404.913.882v.59c0 .525.42.976.953.976h1.181c.529 0 .949-.447.949-.975v-.59c0-.479.415-.883.913-.883.249 0 .482.11.66.3l.366.364a.981.981 0 0 0 .68.272.981.981 0 0 0 .68-.272l.867-.862a.962.962 0 0 0 0-1.357l-.381-.373a.857.857 0 0 1-.291-.64c0-.499.404-.91.886-.91h.59c.529 0 .906-.417.906-.945v-1.185c.008-.53-.37-.945-.898-.945zm-3.408 1.535a3.11 3.11 0 1 1-6.219 0 3.11 3.11 0 1 1 6.219 0z" class="function" id="path6074" fill="#fff" stroke="#d9d20d" stroke-width=".129"/><path d="M262.26 64.431h-.59c-.482 0-.886-.416-.886-.91a.85.85 0 0 1 .292-.64l.38-.374a.955.955 0 0 0 0-1.356l-.866-.86a.974.974 0 0 0-.68-.27.981.981 0 0 0-.68.271l-.366.365a.878.878 0 0 1-.66.3c-.498 0-.914-.405-.914-.883v-.595c0-.524-.424-.975-.952-.975h-1.182c-.528 0-.948.447-.948.975v.591c0 .478-.416.882-.913.882a.869.869 0 0 1-.646-.287l-.377-.373a.958.958 0 0 0-.68-.272.981.981 0 0 0-.68.272l-.874.855a.957.957 0 0 0 0 1.352l.365.366a.88.88 0 0 1 .303.657c0 .497-.404.91-.886.91h-.59c-.533 0-.98.415-.98.943v1.181c0 .526.447.945.98.945h.59c.482 0 .886.416.886.91a.88.88 0 0 1-.303.657l-.365.361a.957.957 0 0 0 0 1.353l.866.862a.958.958 0 0 0 .68.273.981.981 0 0 0 .68-.273l.378-.373a.863.863 0 0 1 .645-.287c.497 0 .913.404.913.882v.59c0 .525.42.976.952.976h1.182c.529 0 .948-.447.948-.975v-.59c0-.479.416-.883.914-.883.248 0 .482.11.66.3l.366.364a.981.981 0 0 0 .68.272.981.981 0 0 0 .68-.272l.867-.862a.962.962 0 0 0 0-1.357l-.381-.373a.857.857 0 0 1-.292-.64c0-.499.404-.91.886-.91h.591c.529 0 .906-.417.906-.945v-1.185c.008-.53-.37-.945-.898-.945zm-3.408 1.535a3.109 3.109 0 1 1-6.218 0 3.109 3.109 0 1 1 6.218 0z" class="function" id="path6076" fill="#fff" stroke="#d9d20d" stroke-width=".129"/><path id="path5035" class="function" d="M336.614 64.431h-.591c-.482 0-.886-.416-.886-.91a.85.85 0 0 1 .291-.64l.381-.374a.955.955 0 0 0 0-1.356l-.867-.86a.974.974 0 0 0-.68-.27.981.981 0 0 0-.68.271l-.365.365a.878.878 0 0 1-.66.3c-.498 0-.914-.405-.914-.883v-.595c0-.524-.424-.975-.952-.975h-1.182c-.529 0-.948.447-.948.975v.591c0 .478-.416.882-.914.882a.869.869 0 0 1-.645-.287l-.377-.373a.958.958 0 0 0-.68-.272.981.981 0 0 0-.68.272l-.875.855a.957.957 0 0 0 0 1.352l.366.366a.88.88 0 0 1 .303.657c0 .497-.404.91-.886.91h-.591c-.532 0-.98.415-.98.943v1.181c0 .526.448.945.98.945h.59c.483 0 .887.416.887.91a.88.88 0 0 1-.303.657l-.366.361a.957.957 0 0 0 0 1.353l.867.862a.958.958 0 0 0 .68.273.981.981 0 0 0 .68-.273l.377-.373a.863.863 0 0 1 .646-.287c.497 0 .913.404.913.882v.59c0 .525.42.976.952.976h1.182c.528 0 .948-.447.948-.975v-.59c0-.479.416-.883.913-.883.25 0 .482.11.661.3l.365.364a.981.981 0 0 0 .68.272.981.981 0 0 0 .68-.272l.867-.862a.962.962 0 0 0 0-1.357l-.38-.373a.857.857 0 0 1-.292-.64c0-.499.404-.91.886-.91h.59c.53 0 .906-.417.906-.945v-1.185c.008-.53-.369-.945-.897-.945zm-3.409 1.535a3.109 3.109 0 1 1-6.218 0 3.109 3.109 0 1 1 6.218 0z" fill="#fff" stroke="#d9d20d" stroke-width=".129"/><path d="M131.698 94.865h244.897l.001-19.424H131.698z" id="rect7706" fill="#a3caff" stroke-width="1.323" stroke-linecap="round" stroke-linejoin="round" paint-order="stroke fill markers"/><path d="M234.378 191.68H67.82V85.153l263.917.235 91.81.082v106.21H274.722" id="path7555" class="stream" fill="none" fill-rule="evenodd" stroke="url(#linearGradient7563)" stroke-width="2.646"/><g id="g4657" transform="translate(235.117 173.193) scale(.05901)"><linearGradient y2="2.269" x2="553.446" y1="637.383" x1="186.763" gradientUnits="userSpaceOnUse" id="hey-7"><stop id="stop5818" offset=".415" stop-color="#51d3d9"/><stop id="stop5820" offset="1" stop-color="#c8ff8c"/></linearGradient><path id="path4648" d="M639.9 495.8c-.3 6.5-2.1 12.9-5.4 18.7l-60.6 105c-7.3 12.7-20.8 20.5-35.4 20.5H202.2c-14.6 0-28.1-7.8-35.4-20.4L5.5 340.5C1.8 334.1 0 327.1 0 320s1.4-14.5 5.7-21.7L166.9 20.4C174.2 7.8 187.7 0 202.2 0h336.3c14.6 0 28.1 7.8 35.4 20.4 0 0 58.3 95.5 62.5 102.3 4.2 6.8 3.5 15.4 3.5 22.4 0 6-1.7 14.2-3.3 20.7-1.6 6.5-50.4 204.3-50.4 204.3L479.7 143.6H261.4L159.2 320l102.2 176.4h218.2z" fill="url(#linearGradient5912)"/><linearGradient y2="359.915" x2="631.412" y1="527.969" x1="534.386" gradientUnits="userSpaceOnUse" id="linearGradient5829"><stop id="stop5825" offset=".415" stop-color="#51d3d9"/><stop id="stop5827" offset="1" stop-color="#5a919b"/></linearGradient><path id="path4655" d="M562.1 319.9l74 156.9c5.7 12.1 5.1 26.2-1.6 37.8l-154.8-18.1z" fill="url(#linearGradient5914)"/></g><path class="time-min" d="M256.556 192.727l9.602-10.656" id="path4501-3" fill="none" stroke="#fff" stroke-width="3.657" stroke-linecap="round"/><path class="time-hour" d="M256.556 192.727l-7.318-6.307" id="path4503-6" fill="none" stroke="#fff" stroke-width="3.657" stroke-linecap="round"/></svg>
</div>

---
name:cyclearchext
class: center
# Architecture Cycle.js (fixed)

<div>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1920" height="1080" viewBox="0 0 508.00001 285.74999" id="svg8"><defs id="defs4523"><linearGradient id="thelast-7" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"><stop stop-color="#51d3d9" offset=".415" id="stop5946"/><stop stop-color="#c8ff8c" offset="1" id="stop5948"/></linearGradient><linearGradient id="linearGradient4781"><stop offset="0" id="stop4777" stop-color="#f7f9fc" stop-opacity="0"/><stop offset="1" id="stop4779" stop-color="#fff"/></linearGradient><linearGradient id="linearGradient4757"><stop offset="0" id="stop4753" stop-color="#ff7f2a"/><stop offset="1" id="stop4755" stop-color="#ff7f2a" stop-opacity="0"/></linearGradient><linearGradient xlink:href="#thelast-7-5" id="lgcycle" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"/><linearGradient xlink:href="#felix-3" id="lgcycleblack" gradientUnits="userSpaceOnUse" x1="534.386" y1="527.969" x2="631.412" y2="359.915"/><linearGradient xlink:href="#linearGradient4757" id="linearGradient4759" x1="174.195" y1="89.822" x2="189.003" y2="89.456" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#linearGradient4757" id="linearGradient4767" x1="175.293" y1="127.295" x2="188.82" y2="128.027" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#linearGradient4757" id="linearGradient4775" x1="174.744" y1="160.922" x2="189.003" y2="160.555" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#linearGradient4781" id="linearGradient4785" gradientUnits="userSpaceOnUse" x1="319.008" y1="98.837" x2="333.03" y2="98.654"/><linearGradient xlink:href="#linearGradient4781" id="linearGradient4793" x1="318.715" y1="140.776" x2="333.052" y2="141.142" gradientUnits="userSpaceOnUse"/><linearGradient xlink:href="#thelast-7-5" id="linearGradient5289" gradientUnits="userSpaceOnUse" x1="186.763" y1="637.383" x2="553.446" y2="2.269"/><linearGradient xlink:href="#felix-3" id="linearGradient5291" gradientUnits="userSpaceOnUse" x1="534.386" y1="527.969" x2="631.412" y2="359.915"/></defs><path d="M176.346 93.067l10.207-5.894v28.637l-10.207-5.893m0 29.187l10.207-5.893v29.695l-10.207-5.893m0 29.187l10.207-5.893v12.307a.84.84 0 0 0 .842.841h132.976a.84.84 0 0 0 .84-.841v-33.265l10.763 6.214m0-29.187l-10.762 6.213v-42.507l10.762 6.214m0-29.187l-10.762 6.214V54.592a.84.84 0 0 0-.841-.841H187.395a.84.84 0 0 0-.842.841v15.181l-10.207-5.893" id="rect6128" fill="none" stroke="#edaf1f" stroke-width="5.292"/><text style="line-height:6.61458302px" x="241.778" y="68.932" id="text6132" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan id="tspan6130" x="241.778" y="68.932" font-size="12.7">App</tspan></text><style id="style4585"/><path id="use9611" d="M96.462-31.52h-.591c-.482 0-.886-.416-.886-.91a.85.85 0 0 1 .291-.64l.381-.374a.955.955 0 0 0 0-1.356l-.867-.86a.974.974 0 0 0-.68-.271.981.981 0 0 0-.68.272l-.365.365a.878.878 0 0 1-.661.3c-.497 0-.913-.405-.913-.883v-.594c0-.525-.424-.976-.953-.976h-1.181c-.529 0-.948.447-.948.976v.59c0 .478-.416.883-.914.883a.869.869 0 0 1-.645-.288l-.377-.373a.958.958 0 0 0-.68-.272.981.981 0 0 0-.68.272l-.875.855a.957.957 0 0 0 0 1.352l.366.366a.88.88 0 0 1 .303.657c0 .497-.404.91-.886.91h-.591c-.533 0-.98.415-.98.943v1.182c0 .525.447.944.98.944h.59c.483 0 .887.416.887.91a.88.88 0 0 1-.303.657l-.366.361a.957.957 0 0 0 0 1.353l.867.863a.958.958 0 0 0 .68.272.981.981 0 0 0 .68-.272l.377-.374a.863.863 0 0 1 .646-.287c.497 0 .913.404.913.882v.59c0 .525.42.976.952.976h1.182c.528 0 .948-.447.948-.975v-.591c0-.478.416-.882.913-.882.249 0 .482.109.661.3l.365.364a.981.981 0 0 0 .68.272.981.981 0 0 0 .68-.272l.867-.862a.962.962 0 0 0 0-1.357l-.38-.373a.857.857 0 0 1-.292-.641c0-.498.404-.91.886-.91h.59c.53 0 .906-.416.906-.944v-1.185c.008-.53-.369-.945-.897-.945zm-3.409 1.535a3.108 3.108 0 1 1-6.218 0 3.108 3.108 0 1 1 6.218 0z" fill="#fff" stroke="#d9d20d" stroke-width=".129"/><path class="stream hf" id="path8268" d="M66.63 104.895V78.382l136.107.1" fill="none" fill-rule="evenodd" stroke="url(#linearGradient4759)" stroke-width=".265"/><path class="stream hf" id="path8270" d="M83.363 124.712l119.374.038" fill="none" fill-rule="evenodd" stroke="url(#linearGradient4767)" stroke-width=".265"/><path class="stream hf" id="path8274" d="M297.582 91.516h145.743v17.457" stroke-width=".265" stroke="url(#linearGradient4785)" fill-rule="evenodd" fill="none"/><path class="stream hf" id="path8276" d="M290.33 150.544h153.298v-12.557" fill="none" fill-rule="evenodd" stroke="url(#linearGradient4793)" stroke-width=".265"/><text style="line-height:6.61458302px" x="133.687" y="71.756" id="text8228" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan id="tspan8226" x="133.687" y="71.756">DOM</tspan></text><text style="line-height:6.61458302px" x="133.091" y="118.18" id="text8236" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan id="tspan8234" x="133.091" y="118.18">HTTP</tspan></text><text id="text8240" y="165.895" x="137.559" style="line-height:6.61458302px" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan y="165.895" x="137.559" id="tspan8238">RAF</tspan></text><text id="text8246" y="85.74" x="344.311" style="line-height:6.61458302px" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan y="85.74" x="344.311" id="tspan8244">DOM</tspan></text><text id="text8254" y="144.266" x="343.856" style="line-height:6.61458302px" font-weight="400" font-size="10.583" letter-spacing="0" word-spacing="0" font-family="sans-serif" fill="#fff" stroke-width=".265"><tspan y="144.266" x="343.856" id="tspan8252">HTTP</tspan></text><g id="g4657" transform="translate(45.387 104.72) scale(.05901)"><linearGradient y2="2.269" x2="553.446" y1="637.383" x1="186.763" gradientUnits="userSpaceOnUse" id="thelast-7-5"><stop id="stop4643" offset=".415" stop-color="#51d3d9"/><stop id="stop4645" offset="1" stop-color="#c8ff8c"/></linearGradient><path id="path4648" d="M639.9 495.8c-.3 6.5-2.1 12.9-5.4 18.7l-60.6 105c-7.3 12.7-20.8 20.5-35.4 20.5H202.2c-14.6 0-28.1-7.8-35.4-20.4L5.5 340.5C1.8 334.1 0 327.1 0 320s1.4-14.5 5.7-21.7L166.9 20.4C174.2 7.8 187.7 0 202.2 0h336.3c14.6 0 28.1 7.8 35.4 20.4 0 0 58.3 95.5 62.5 102.3 4.2 6.8 3.5 15.4 3.5 22.4 0 6-1.7 14.2-3.3 20.7-1.6 6.5-50.4 204.3-50.4 204.3L479.7 143.6H261.4L159.2 320l102.2 176.4h218.2z" fill="url(#lgcycle)"/><linearGradient y2="359.915" x2="631.412" y1="527.969" x1="534.386" gradientUnits="userSpaceOnUse" id="felix-3"><stop id="stop4650" offset=".415" stop-color="#51d3d9"/><stop id="stop4652" offset="1" stop-color="#5a919b"/></linearGradient><path id="path4655" d="M562.1 319.9l74 156.9c5.7 12.1 5.1 26.2-1.6 37.8l-154.8-18.1z" fill="url(#lgcycleblack)"/></g><path d="M66.372 141.977v29.103l136.365.266" id="path4723" class="stream hf" fill="none" fill-rule="evenodd" stroke="url(#linearGradient4775)" stroke-width=".265"/><path class="time-min" d="M66.826 124.254l9.602-10.656" id="path4501" fill="none" stroke="#fff" stroke-width="3.657" stroke-linecap="round"/><path class="time-hour" d="M66.826 124.254l-7.318-6.307" id="path4503" fill="none" stroke="#fff" stroke-width="3.657" stroke-linecap="round"/><g transform="translate(421.095 104.72) scale(.05901)" id="g5287"><path d="M639.9 495.8c-.3 6.5-2.1 12.9-5.4 18.7l-60.6 105c-7.3 12.7-20.8 20.5-35.4 20.5H202.2c-14.6 0-28.1-7.8-35.4-20.4L5.5 340.5C1.8 334.1 0 327.1 0 320s1.4-14.5 5.7-21.7L166.9 20.4C174.2 7.8 187.7 0 202.2 0h336.3c14.6 0 28.1 7.8 35.4 20.4 0 0 58.3 95.5 62.5 102.3 4.2 6.8 3.5 15.4 3.5 22.4 0 6-1.7 14.2-3.3 20.7-1.6 6.5-50.4 204.3-50.4 204.3L479.7 143.6H261.4L159.2 320l102.2 176.4h218.2z" id="path5277" fill="url(#linearGradient5289)"/><path d="M562.1 319.9l74 156.9c5.7 12.1 5.1 26.2-1.6 37.8l-154.8-18.1z" id="path5285" fill="url(#linearGradient5291)"/></g></svg>
</div>

--
.animate-from-bottom[.middled.banner[`const sideEffects = app(signals)`]]

---
layout: true
class: center, huge-code
# Cycle.js

---
```javascript
const sideEffects = application(signals)
```

--
```javascript
const writes = application(reads)
```

--
```javascript
const sinks = application(sources)
```

--
```javascript
const sinks = application(time)
```

---
layout: false
# Cycle.js

```javascript
function main(sources) {
            // ‚Üë les signaux en entr√©e

  /*...*/

  return {
    DOM: DOMOutput, // les effets que je veux dans le DOM
    HTTP: HTTPOutput, // les requ√™tes ajax que je veux faire
    /*...*/
  }
}
```

---
class: huge-code
# A vous !

```bash
$ npm install -g create-cycle-app
$ create-cycle-app cycle-rocks
```

---
name: me
class: center, middle, naked
![thomas belin](//www.gravatar.com/avatar/56f2389bd912f388cc79874ce65fc0dc?s=150)  
Thomas Belin  
Front-end developer @ <s>Mozilla</s> doyoubuzz  
<i class="ion-social-twitter"></i>
[@atomrc](https://twitter.com/atomrc) | [thomasbelin.fr](//blog.thomasbelin.fr)

---
class: middle naked

# Thanks :)
## U ü§ò

    </cv></textarea><script src="https://remarkjs.com/downloads/remark-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TimelineMax.min.js"></script><script>function once(initFn) {
  var output = null;
  return function init(slide) {
    if (output) {
      return output;
    }
    output = initFn(slide);
    return output;
  };

}

function functionAnimation(elm) {
  var timeline = new TimelineMax();

  timeline
    .to(elm, 1, { rotation: "-=360", transformOrigin: "center center"})

    return timeline;
}

function vibrate(elm) {
  var timeline = new TimelineMax();

  timeline
    .to(elm, .1, { rotation: "+=20", transformOrigin: "center center" })
    .to(elm, .1, { rotation: "-=40", transformOrigin: "center center" })
    .to(elm, .1, { rotation: "+=40", transformOrigin: "center center" })
    .to(elm, .1, { rotation: "-=40", transformOrigin: "center center" })
    .to(elm, .1, { rotation: "+=40", transformOrigin: "center center" })
    .to(elm, .1, { rotation: "-=20", transformOrigin: "center center" })

    return timeline;
}

var streamConf = {
  nf: 20,
  lf: 40,
  vlf: 160
};

var animations = {
  intro: once(function init(slide) {
    var timeline = new TimelineMax();
    var minTimeline = new TimelineMax();
    var hourTimeline = new TimelineMax();
    var eventTimeline = new TimelineMax();

    var min = slide.querySelectorAll(".time-min");
    var hour = slide.querySelectorAll(".time-hour");
    var streams = slide.querySelectorAll(".stream");

    minTimeline
      .to(min, 2, { rotation: 360, transformOrigin: "left bottom", ease: Power0.easeNone })
      .repeat(-1)

    hourTimeline
      .to(hour, 20, { rotation: 360, transformOrigin: "right bottom", ease: Power0.easeNone })
      .repeat(-1)

    eventTimeline
      .to(streams, .75, { strokeDashoffset:-15, ease: Power0.easeNone })
      .repeat(-1)

      return timeline;
  }),

  beforecycle: once(function init(slide) {
    var timeline = new TimelineMax();
    var minTimeline = new TimelineMax();
    var hourTimeline = new TimelineMax();
    var eventTimeline = new TimelineMax();

    var min = slide.querySelectorAll(".time-min");
    var hour = slide.querySelectorAll(".time-hour");
    var ev = slide.querySelectorAll(".stream");

    minTimeline
      .to(min, 1, { rotation: 360, transformOrigin: "left bottom", ease: Power0.easeNone })
      .repeat(-1)

    hourTimeline
      .to(hour, 10, { rotation: 360, transformOrigin: "right bottom", ease: Power0.easeNone })
      .repeat(-1)

    eventTimeline
      .to(ev, .5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1)

      return timeline;
  }),

  aftercycle: once(function init(slide) {
    var timeline = new TimelineMax();
    var minTimeline = new TimelineMax();
    var hourTimeline = new TimelineMax();
    var eventTimeline = new TimelineMax();

    var min = slide.querySelectorAll(".time-min");
    var hour = slide.querySelectorAll(".time-hour");
    var ev = slide.querySelectorAll(".stream");

    minTimeline
      .to(min, 1, { rotation: 360, transformOrigin: "left bottom", ease: Power0.easeNone })
      .repeat(-1)

    hourTimeline
      .to(hour, 10, { rotation: 360, transformOrigin: "right bottom", ease: Power0.easeNone })
      .repeat(-1)

    eventTimeline
      .to(ev, .5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1)

      return timeline;
  }),

  pausev1: once(function init(slide) {
    var timeline = new TimelineMax();

    var raf = slide.querySelectorAll(".raf-stream");

    timeline
      .to(raf, 0.5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1)

    return timeline;
  }),

  pausev2: once(function init(slide) {
    var timeline = new TimelineMax();

    var raf = slide.querySelectorAll(".raf-stream");
    var dom = slide.querySelectorAll(".dom-stream");

    var rafTl = new TimelineMax();

    domTl = new TimelineMax();

    domTl
      .to(dom, 1, { strokeDashoffset:-streamConf.lf, ease: Power0.easeNone })
      .repeat(-1)

    rafTl
      .to(raf, .5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1)

    return timeline;
  }),

  pausev3: once(function init(slide) {
    var timeline = new TimelineMax();
    var rafTl = new TimelineMax();
    var domTl = new TimelineMax();
    var outTl = new TimelineMax();

    var raf = slide.querySelectorAll(".raf-stream");
    var dom = slide.querySelectorAll(".dom-stream");
    var out = slide.querySelectorAll(".out-stream");

    domTl
      .to(dom, 1.5, { strokeDashoffset:-36, ease: Power0.easeNone })
      .repeat(-1)

    outTl
      .to(out, 1.5, { strokeDashoffset:-50, ease: Power0.easeNone })
      .to(out, 0, { opacity: 0 })
      .repeatDelay(1.5)
      .repeat(-1)

    rafTl
      .to(raf, 5, { strokeDashoffset:-200, ease: Power0.easeNone })
      .repeat(-1)

    return timeline;
  }),

  test1: once(function init(slide) {
    var timeline = new TimelineMax();

    var ev = slide.querySelectorAll(".stream");
    var check = slide.querySelectorAll(".check");

    timeline
      .to(ev, 2, { strokeDashoffset:-170, ease: Power0.easeNone })
      .to(check, 1, { opacity: 1 })
      .repeat(-1)

      return timeline;
  }),

  test2: once(function init(slide) {
    var timeline = new TimelineMax();
    var rafTl = new TimelineMax();
    var domTl = new TimelineMax();

    var raf = slide.querySelectorAll(".raf-stream");
    var dom = slide.querySelectorAll(".dom-stream");
    var check = slide.querySelectorAll(".check");

    timeline
      .to(dom, 1, { strokeDashoffset:-120, ease: Power0.easeNone })
      .to(raf, 1, { strokeDashoffset:-120, ease: Power0.easeNone })
      .to(check, 1, { opacity: 1 })
      .repeat(-1)

      return timeline;
  }),

  resumearch: once(function init(slide) {
    var timeline = new TimelineMax();
    var outTl = new TimelineMax();

    var stream = slide.querySelectorAll(".stream");
    var out1 = slide.querySelectorAll(".sideeffect-1");
    var out2 = slide.querySelectorAll(".sideeffect-2");
    var out3 = slide.querySelectorAll(".sideeffect-3");

    timeline
      .to(stream, 0.5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1);

    outTl
      .to(out1, 0.75, { scale: 1.2, x: 40, opacity: 1, rotation: 360, transformOrigin: "center center" })
      .to(out1, 0, { opacity: 0})
      .to(out2, 0.75, { scale: 1.2, y: -20, x: 20, opacity: 1, rotation: 360, transformOrigin: "center center" }, 0.5)
      .to(out2, 0, { opacity: 0})
      .to(out3, 0.75, { scale: 1.2, y: 20, x: 20, opacity: 1, rotation: 360, transformOrigin: "center center" }, 1)
      .to(out3, 0, { opacity: 0})
      .repeat(-1)

    return timeline;
  }),

  reactarch: once(function init(slide) {
    var timeline = new TimelineMax();
    var outTl = new TimelineMax();

    var stream = slide.querySelectorAll(".stream");
    var out = slide.querySelectorAll(".output");

    timeline
      .to(stream, 0.5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1);

    outTl
      .to(out, 3, { x: 100, opacity: 1 })
      .repeat(-1)

    return timeline;
  }),

  reduxarch: once(function init(slide) {
    var timeline = new TimelineMax();
    var outTl = new TimelineMax();

    var stream = slide.querySelectorAll(".stream");
    var state = slide.querySelectorAll(".state");
    var out = slide.querySelectorAll(".output");

    timeline
      .to(stream, 0.5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1);

    outTl
      .to(state, 2, { x: 90, opacity: 1 })
      .to(out, 2, { x: 90, opacity: 1 })
      .repeat(-1)

    return timeline;
  }),

  cyclearch: once(function init(slide) {
    var timeline = new TimelineMax();
    var functionTl = new TimelineMax();

    var stream = slide.querySelectorAll(".stream");
    var func = slide.querySelectorAll(".function");

    functionTl
      .add(functionAnimation(func))
      .repeat(-1)

    timeline
      .to(stream, 0.5, { strokeDashoffset:-streamConf.nf, ease: Power0.easeNone })
      .repeat(-1);

    return timeline;
  }),

  cyclearchext: once(function init(slide) {
    var timeline = new TimelineMax();

    var hourTimeline = new TimelineMax();
    var minTimeline = new TimelineMax();

    var min = slide.querySelectorAll(".time-min");
    var hour = slide.querySelectorAll(".time-hour");

    var stream = slide.querySelectorAll(".stream");

    minTimeline
      .to(min, 2, { rotation: 360, transformOrigin: "left bottom", ease: Power0.easeNone })
      .repeat(-1)

    hourTimeline
      .to(hour, 20, { rotation: 360, transformOrigin: "right bottom", ease: Power0.easeNone })
      .repeat(-1)

    timeline
      .to(stream, 4, { strokeDashoffset:-streamConf.vlf, ease: Power0.easeNone })
      .repeat(-1);

    return timeline;
  })
};</script><script>//init remarkjs
      var timeout = window.setTimeout;
      var slideshow = remark.create({
        highlightStyle: 'github',
        highlightLines: true,
        ratio: "16:9"
      });

      slideshow.on("beforeHideSlide", function (slide) {
        var currentSlide = document.querySelector(".remark-slide-container.entered");
        if (!currentSlide) { return; }
        currentSlide.classList.remove("entered");
      });

      slideshow.on("afterShowSlide", function (slide) {
        timeout(launchAnimations, 50, slide);
      });

      timeout(
        launchAnimations,
        50,
        slideshow.getSlides()[slideshow.getCurrentSlideIndex()]
      );

      function launchAnimations(slide) {
          var element = document.querySelector(".remark-visible");
          element.classList.add("entered");
          return animations[slide.properties.name] ? animations[slide.properties.name](element) : null;
      }

      document.addEventListener("keyup", function (ev) {
        if (ev.keyCode === 84) {
          var currentSlide = document.querySelector(".remark-slide-container.entered");
          currentSlide.classList.toggle("toggled");
        }
      });</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-34218773-1', { siteSpeedSampleRate: 100 });
ga('send', 'pageview');</script></body></html>